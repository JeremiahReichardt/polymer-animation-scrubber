<dom-module id="my-tweens">
<template>
    <style>

      :host {
        display: block;
        height: 300px;
        width: 900px;
        cursor: pointer;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        background-color: white;
        border: 1px solid black;
      }

      img {
        position: relative;
        top: 30%;
        left: 10px;
        width: 150px;
        height: 150px;
        -moz-transform: scaleX(-1);
        -o-transform: scaleX(-1);
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
        filter: FlipH;
        -ms-filter: "FlipH";
      }
    </style>

    <img id="whale" src={{whale}}></img>
    <control-panel timeline="{{timeline}}"></control-panel>

  </template>

  <script>

    (function() {
      'use strict';

      Polymer({
        is: 'my-tweens',

        ready: function() {
          this.timeline = new TimelineMax({onUpdateScope: this, onUpdate: this.updateSlider.bind(this), repeat: -1});
          this.timeline.add( new TweenLite.to( this.$$('#whale'), 1, {x: '701px'}), 0);
          this.timeline.name = "whale timeline";
          this.notifyPath('timeline.name', this.timeline.name);
        },

        updateSlider: function(){
//          console.log(this.timeline);
          this.percentComplete = ((1 - (this.timeline.duration() - this.timeline.time())).toFixed(2) * 100);
          this.notifyPath('timeline.progress', this.percentComplete);
        },

        properties: {
          timeline: {
            type: Object,
            notify: true
          },
          percentComplete: {
            type: Number,
            notify: true
          },
          whale: {
            type: String,
            value: './images/bluewhale.svg',
            notify: true
          },
        },
      });
    })();
  </script> 

</dom-module>
